name: trading-bot-koyeb
# dockerfile: Dockerfile  # Si tu Dockerfile tiene otro nombre, descomenta esta línea

routes:
  - port: 8080
    path: /

# Variables de entorno (configúralas en el dashboard de Koyeb)
# env:
#   - name: TELEGRAM_TOKEN
#     value: "tu_token_aqui"
#   - name: PORT
#     value: "8080"

# Health checks optimizados
health_checks:
  http:
    path: /health
    port: 8080
    initial_delay: 30  # Esperar 30 segundos antes del primer check
    interval: 30       # Check cada 30 segundos
    timeout: 10        # Timeout de 10 segundos
    unhealthy_threshold: 3  # 3 fallos consecutivos antes de marcar como unhealthy
    healthy_threshold: 2    # 2 éxitos consecutivos para marcar como healthy

# Recursos (ajusta según necesites)
# instances:
#   - type: nano
#     count: 1

# Escalado automático (opcional)
# auto_scaling:
#   metric: cpu
#   target: 60
#   min: 1
#   max: 3
